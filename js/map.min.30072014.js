function InfoBox(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),this.isHidden_=e.isHidden||!1,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.eventListener1_=null,this.eventListener2_=null,this.eventListener3_=null,this.moveListener_=null,this.contextListener_=null,this.fixedWidthSet_=null}function create_hotel_destination_map(e){markers=new Array,main_hotel_info_box="",current_hotel_map="";var t=e.lat,o=e.lng,i=e.des_id,n=create_hotel_map("hotel_des_map",t,o);get_hotels_in_city("",i,n,1,1)}function create_hotel_mobile_map(e){markers=new Array,main_hotel_info_box="",current_hotel_map="";{var t=e.data_hotel_id,o=e.data_des_id,i=e.data_lat,n=e.data_lng;e.data_place_name,e.data_star}init_filter_status();var a=create_hotel_map("hotel_des_map",i,n),s=new google.maps.LatLng(i,n);a.setCenter(s);var r=render_main_hotel_marker(i,n,a);r.setZIndex(999999),get_hotel_main(t,a,r,!0),get_hotels_in_city(t,o,a,"","",!0),get_destinations_in_city(o,a,!0)}function view_hotel_destination_map(e){markers=new Array,main_hotel_info_box="",current_hotel_map="",init_filter_status();var t=$(e).attr("data-des-id"),o=$(e).attr("data-lat"),i=$(e).attr("data-lng"),n=$(e).attr("data-place-name"),a=create_hotel_map("hotel_map",o,i);$("#mapModalLabel").html("Khách sạn ở "+n),$("#mapModal").on("shown.bs.modal",function(){google.maps.event.trigger(a,"resize");var e=new google.maps.LatLng(o,i);a.setCenter(e)}),$("#mapModal").modal("show"),get_hotels_in_city("",t,a,1,1),get_destinations_in_city(t,a)}function create_vietnam_top_des_map(e){markers=new Array,main_hotel_info_box="",current_hotel_map="";var t=(e.des_id,e.lat),o=e.lng,i=(e.des_name,e.zoom),n=create_hotel_map("vietnam_map",t,o,i);get_hotel_top_destination(n)}function get_hotel_top_destination(e){$.ajax({url:"/hotel_on_map/get_hotel_top_destination/",type:"POST",cache:!0,dataType:"json",data:{},success:function(t){if(""!=t)for(var o=0;o<t.length;o++)render_destination_map_data(t[o],e,1)},error:function(){}})}function view_hotel_map(e){{var t=$(e).attr("data-hotel-id"),o=$(e).attr("data-des-id"),i=$(e).attr("data-lat"),n=$(e).attr("data-lng"),a=$(e).attr("data-place-name"),s=$(e).attr("data-star");$(e).attr("is-mobile")}markers=new Array,main_hotel_info_box="",current_hotel_map="",init_filter_status();var r=create_hotel_map("hotel_map",i,n);$("#mapModalLabel").html(a+'  <span class="icon star-'+s+'"></span>'),$("#mapModal").on("shown.bs.modal",function(){google.maps.event.trigger(r,"resize");var e=new google.maps.LatLng(i,n);r.setCenter(e)}),$("#mapModal").modal("show");var l=render_main_hotel_marker(i,n,r);l.setZIndex(999999),get_hotel_main(t,r,l),get_hotels_in_city(t,o,r),get_destinations_in_city(o,r)}function create_hotel_map(e,t,o,i){var n=15;void 0!=i&&""!=i&&(n=i);var a=new google.maps.LatLng(t,o),s={center:a,zoom:n,mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(document.getElementById(e),s);return r}function get_hotel_main(e,t,o,i){$.ajax({url:"/hotel_on_map/get_hotel_main/",type:"POST",cache:!0,dataType:"json",data:{id:e},success:function(e){void 0!=i&&1==i?render_hotel_map_mobile(e,t,o):render_hotel_map_data(e,t,o)},error:function(){}})}function get_hotels_in_city(e,t,o,i,n,a){var s=1;void 0!=n&&1==n&&(s=0),$.ajax({url:"/hotel_on_map/get_hotels_in_city/",type:"POST",cache:!0,dataType:"json",data:{hotel_id:e,des_id:t,hotel_in_city:s},success:function(e){if(""!=e){for(var t=new google.maps.LatLngBounds,n=0;n<e.length;n++){void 0!=a&&1==a?render_hotel_map_mobile(e[n],o):render_hotel_map_data(e[n],o);var s=new google.maps.LatLng(e[n].latitude,e[n].longitude);t.extend(s)}void 0!=i&&1==i&&o.fitBounds(t)}},error:function(){}})}function get_destinations_in_city(e,t,o){$.ajax({url:"/hotel_on_map/get_destinations_in_city/",type:"POST",cache:!0,dataType:"json",data:{des_id:e},success:function(e){if(""!=e){for(var i=0;i<e.length;i++)void 0!=o&&1==o?render_destination_map_data_mobile(e[i],t):render_destination_map_data(e[i],t);show_hotel_area_selections(e,t)}},error:function(){}})}function render_main_hotel_marker(e,t,o){var i=new google.maps.MarkerImage("/media/icon/icon-hotel.png"),n={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(e,t),icon:i,map:o},a=new google.maps.Marker(n);return a}function render_hotel_map_data(e,t,o){var i=!1;if(""==o||void 0==o)var n=new google.maps.MarkerImage("/media/icon/hotel-marker.png"),a={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(parseFloat(e.latitude),parseFloat(e.longitude)),icon:n,map:t},o=new google.maps.Marker(a);else i=!0;var s=build_hotel_info_box(e);i&&(s.open(t,o),main_hotel_info_box=s),google.maps.event.addListener(o,"mouseover",function(){""!=main_hotel_info_box&&main_hotel_info_box.close(),s.open(t,o)}),google.maps.event.addListener(o,"mouseout",function(){s.close()}),google.maps.event.addListener(o,"click",function(){window.open(e.full_url)});var r={marker:o,map_type:1,obj_data:e,info_box:s};return markers.push(r),r}function render_hotel_map_mobile(e,t,o){var i=!0,n=!1;if(""==o||void 0==o)var a=new google.maps.MarkerImage("/media/icon/hotel-marker.png"),s={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(parseFloat(e.latitude),parseFloat(e.longitude)),icon:a,map:t},o=new google.maps.Marker(s);else n=!0;var r=build_hotel_info_box(e,i);n&&(r.open(t,o),main_hotel_info_box=r),google.maps.event.addListener(o,"click",function(){""!=main_hotel_info_box&&main_hotel_info_box.close(),$(".infoBox").hide(),r.open(t,o)});var l={marker:o,map_type:1,obj_data:e,info_box:r};return markers.push(l),l}function render_destination_map_data(e,t,o){var i=!1;void 0!=o&&1==o&&(i=!0);var n=new google.maps.MarkerImage("/media/icon/des_icon.png"),a={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(parseFloat(e.latitude),parseFloat(e.longitude)),icon:n,map:t,visible:i},s=new google.maps.Marker(a),r=build_des_info_box(e);google.maps.event.addListener(s,"mouseover",function(){r.open(t,s)}),google.maps.event.addListener(s,"mouseout",function(){r.close()}),e.number_of_hotels>0&&google.maps.event.addListener(s,"click",function(){window.open(e.full_url)});var l={marker:s,map_type:2,obj_data:e,info_box:r};return markers.push(l),l}function render_destination_map_data_mobile(e,t,o){var i=!0,n=!1;void 0!=o&&1==o&&(n=!0);var a=new google.maps.MarkerImage("/media/icon/des_icon.png"),s={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(parseFloat(e.latitude),parseFloat(e.longitude)),icon:a,map:t,visible:n},r=new google.maps.Marker(s),l=build_des_info_box(e,i);google.maps.event.addListener(r,"click",function(){$(".infoBox").hide(),l.open(t,r)});var _={marker:r,map_type:2,obj_data:e,info_box:l};return markers.push(_),_}function create_hotel_popup_html(e,t){var o='<div class="info-box"><div class="title bpv-color-title" style="font-size:14px"><b>'+e.name+'</b> <span class="icon star-'+e.star+'"></span></div><table class="details"><tr><td><img width="90" height="68" src="'+e.img_url+'"></td><td style="padding-left:15px; font-size:12px;">'+e.address;if(null!=e.price_origin&&null!=e.price_from){var i="";i=void 0!=t&&1==t?'<div><div class="margin-left-10"> <div class="bpv-price-origin">'+bpv_format_currency(e.price_origin," đ")+'</div><div class="bpv-price-from">'+bpv_format_currency(e.price_from," đ")+'</div></div></td></tr></table><div class="text-center margin-top-5"><a href="'+e.full_url+'"><button type="button" class="btn btn-default" style="white-space:normal;width:70%">Xem chi tiết</button></a></div></div>':'<div><div class="margin-left-10"> <div class="bpv-price-origin">'+bpv_format_currency(e.price_origin," đ")+'</div><div class="bpv-price-from">'+bpv_format_currency(e.price_from," đ")+"</div></div></td></tr></table></div>",o+=i}else{var n='NaN</tr></table><div class="text-center margin-top-10"><a href="'+e.full_url+'"><button type="button" class="btn btn-default" style="white-space:normal;width:70%">Xem chi tiết</button></a></div></div>';o+=n}return o}function build_hotel_info_box(e,t){var o="",i="",n=-180,a=-100;void 0!=t&&1==t&&(o="-5px -5px 0 0",i="/media/icon/hotel_detail/close.gif",n=-140,a=0);var s=create_hotel_popup_html(e,t),r={disableAutoPan:!1,maxWidth:0,pixelOffset:new google.maps.Size(n,a),zIndex:null,boxStyle:{opacity:1,width:"auto"},infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!0,closeBoxMargin:o,closeBoxURL:i},l=new InfoBox(r);return l.setContent(s),l}function create_des_popup_html(e,t){var o='<div class="info-box text-center"><label class="bpv-color-title">'+e.name+"</label>";return e.number_of_hotels>0&&(o+=void 0!=t&&1==t?' <label class="note">('+e.number_of_hotels+') khách sạn </label><br/><a href="'+e.full_url+'"><button type="button" class="btn btn-default" style="white-space:normal;width:85%">Xem các khách sạn tại '+e.name+"</button></a>":' <label class="note">('+e.number_of_hotels+') khách sạn </label><br/><div class="note">Click để xem các khách sạn tại '+e.name+"</div>"),o+="</div>"}function build_des_info_box(e,t){var o="",i="",n=-180,a=-100;void 0!=t&&1==t&&(o="-5px -5px 0 0",i="/media/icon/hotel_detail/close.gif",n=-140,a=0);var s=create_des_popup_html(e,t),r={disableAutoPan:!1,maxWidth:0,pixelOffset:new google.maps.Size(n,a),zIndex:null,boxStyle:{opacity:1,width:"auto"},closeBoxMargin:o,closeBoxURL:i,infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!0},l=new InfoBox(r);return l.setContent(s),l}function init_filter_status(){$("#hm_show_hotel").prop("checked",!0),$("#hm_show_des").prop("checked",!1),$(".hm-filter-stars").each(function(){$(this).prop("checked",!0)})}function filter_map_data(){var e=$("#hm_show_hotel").is(":checked"),t=$("#hm_show_des").is(":checked"),o=new Array;$(".hm-filter-stars").each(function(){var e=$(this).val();$(this).is(":checked")&&o.push(e)});for(var i=0;i<markers.length;i++){var n=markers[i];if(1==n.map_type){for(var a=n.obj_data.star,s=!1,r=0;r<o.length;r++)if(a==o[r]){s=!0;break}var l=s&&e;n.marker.setVisible(l),l||n.info_box.close()}else n.marker.setVisible(t),t||n.info_box.close()}}function show_hotel_area_selections(e,t){if(e.length>0){current_hotel_map=t;for(var o=new Array,i=new Array,n=new Array,a=new Array,s=0;s<e.length;s++)5==e[s].type?o.push(e[s]):6==e[s].type?i.push(e[s]):7==e[s].type?n.push(e[s]):a.push(e[s]);var r='<select class="form-control input-sm" id="hm_select_area" onchange="select_hm_area()">';if(r+='<option value="">----Chọn khu vực---</option>',n.length>0){r+='<optgroup label="Điểm đến hấp dẫn">';for(var s=0;s<n.length;s++)r=r+'<option lat="'+n[s].latitude+'" lng="'+n[s].longitude+'" value="'+n[s].id+'">'+n[s].name+"</option>";r+="</optgroup>"}if(i.length>0){r+='<optgroup label="Khu vực">';for(var s=0;s<i.length;s++)r=r+'<option lat="'+i[s].latitude+'" lng="'+i[s].longitude+'" value="'+i[s].id+'">'+i[s].name+"</option>";r+="</optgroup>"}if(o.length>0){r+='<optgroup label="Quận/Huyện">';for(var s=0;s<o.length;s++)r=r+'<option lat="'+o[s].latitude+'" lng="'+o[s].longitude+'" value="'+o[s].id+'">'+o[s].name+"</option>";r+="</optgroup>"}if(a.length>0){r+='<optgroup label="Địa danh khác">';for(var s=0;s<a.length;s++)r=r+'<option lat="'+a[s].latitude+'" lng="'+a[s].longitude+'" value="'+a[s].id+'">'+a[s].name+"</option>";r+="</optgroup>"}r+="</select>",$("#hm_area").html(r),$(".hm-area-info").css("visibility","visible")}}function select_hm_area(){var e=$("#hm_select_area option:selected").attr("lat"),t=$("#hm_select_area option:selected").attr("lng"),o=$("#hm_select_area option:selected").attr("value");if(""!=o){var i=new google.maps.LatLng(e,t);current_hotel_map.setCenter(i);for(var n=0;n<markers.length;n++)2==markers[n].map_type&&(markers[n].obj_data.id==o?(markers[n].marker.setVisible(!0),markers[n].info_box.open(current_hotel_map,markers[n].marker)):(markers[n].marker.setVisible(!1),markers[n].info_box.close()))}}InfoBox.prototype=new google.maps.OverlayView,InfoBox.prototype.createInfoBoxDiv_=function(){var e,t=this,o=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},i=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),t.enableEventPropagation_||o(e)};this.div_||(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(e=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-e.left-e.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),this.enableEventPropagation_||(this.eventListener1_=google.maps.event.addDomListener(this.div_,"mousedown",o),this.eventListener2_=google.maps.event.addDomListener(this.div_,"click",o),this.eventListener3_=google.maps.event.addDomListener(this.div_,"dblclick",o),this.eventListener4_=google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"})),this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",i),google.maps.event.trigger(this,"domready"))},InfoBox.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},InfoBox.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},InfoBox.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),e.close(),google.maps.event.trigger(e,"closeclick")}},InfoBox.prototype.panBox_=function(e){var t,o,i=0,n=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),o=t.getBounds();var a=t.getDiv(),s=a.offsetWidth,r=a.offsetHeight,l=this.pixelOffset_.width,_=this.pixelOffset_.height,d=this.div_.offsetWidth,h=this.div_.offsetHeight,p=this.infoBoxClearance_.width,c=this.infoBoxClearance_.height,m=this.getProjection().fromLatLngToContainerPixel(this.position_);if(m.x<-l+p?i=m.x+l-p:m.x+d+l+p>s&&(i=m.x+d+l+p-s),this.alignBottom_?m.y<-_+c+h?n=m.y+_-c-h:m.y+_+c>r&&(n=m.y+_+c-r):m.y<-_+c?n=m.y+_-c:m.y+h+_+c>r&&(n=m.y+h+_+c-r),0!==i||0!==n){{t.getCenter()}t.panBy(i,n)}}},InfoBox.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);"undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},InfoBox.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},o=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=o.ownerDocument.defaultView.getComputedStyle(o,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&o.currentStyle&&(t.top=parseInt(o.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(o.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(o.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(o.currentStyle.borderRightWidth,10)||0),t},InfoBox.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},InfoBox.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},InfoBox.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},InfoBox.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},InfoBox.prototype.getContent=function(){return this.content_},InfoBox.prototype.getPosition=function(){return this.position_},InfoBox.prototype.getZIndex=function(){return this.zIndex_},InfoBox.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},InfoBox.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},InfoBox.prototype.open=function(e,t){var o=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){o.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},InfoBox.prototype.close=function(){this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListener1_&&(google.maps.event.removeListener(this.eventListener1_),google.maps.event.removeListener(this.eventListener2_),google.maps.event.removeListener(this.eventListener3_),google.maps.event.removeListener(this.eventListener4_),this.eventListener1_=null,this.eventListener2_=null,this.eventListener3_=null,this.eventListener4_=null),this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)};var markers=new Array,main_hotel_info_box="",current_hotel_map="";