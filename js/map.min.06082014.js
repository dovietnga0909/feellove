function InfoBox(b){b=b||{};google.maps.OverlayView.apply(this,arguments);this.content_=b.content||"";this.disableAutoPan_=b.disableAutoPan||false;this.maxWidth_=b.maxWidth||0;this.pixelOffset_=b.pixelOffset||new google.maps.Size(0,0);this.position_=b.position||new google.maps.LatLng(0,0);this.zIndex_=b.zIndex||null;this.boxClass_=b.boxClass||"infoBox";this.boxStyle_=b.boxStyle||{};this.closeBoxMargin_=b.closeBoxMargin||"2px";this.closeBoxURL_=b.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif";if(b.closeBoxURL===""){this.closeBoxURL_=""}this.infoBoxClearance_=b.infoBoxClearance||new google.maps.Size(1,1);this.isHidden_=b.isHidden||false;this.alignBottom_=b.alignBottom||false;this.pane_=b.pane||"floatPane";this.enableEventPropagation_=b.enableEventPropagation||false;this.div_=null;this.closeListener_=null;this.eventListener1_=null;this.eventListener2_=null;this.eventListener3_=null;this.moveListener_=null;this.contextListener_=null;this.fixedWidthSet_=null}InfoBox.prototype=new google.maps.OverlayView();InfoBox.prototype.createInfoBoxDiv_=function(){var g;var f=this;var e=function(a){a.cancelBubble=true;if(a.stopPropagation){a.stopPropagation()}};var h=function(a){a.returnValue=false;if(a.preventDefault){a.preventDefault()}if(!f.enableEventPropagation_){e(a)}};if(!this.div_){this.div_=document.createElement("div");this.setBoxStyle_();if(typeof this.content_.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+this.content_}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(this.content_)}this.getPanes()[this.pane_].appendChild(this.div_);this.addClickHandler_();if(this.div_.style.width){this.fixedWidthSet_=true}else{if(this.maxWidth_!==0&&this.div_.offsetWidth>this.maxWidth_){this.div_.style.width=this.maxWidth_;this.div_.style.overflow="auto";this.fixedWidthSet_=true}else{g=this.getBoxWidths_();this.div_.style.width=(this.div_.offsetWidth-g.left-g.right)+"px";this.fixedWidthSet_=false}}this.panBox_(this.disableAutoPan_);if(!this.enableEventPropagation_){this.eventListener1_=google.maps.event.addDomListener(this.div_,"mousedown",e);this.eventListener2_=google.maps.event.addDomListener(this.div_,"click",e);this.eventListener3_=google.maps.event.addDomListener(this.div_,"dblclick",e);this.eventListener4_=google.maps.event.addDomListener(this.div_,"mouseover",function(a){this.style.cursor="default"})}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",h);google.maps.event.trigger(this,"domready")}};InfoBox.prototype.getCloseBoxImg_=function(){var b="";if(this.closeBoxURL_!==""){b="<img";b+=" src='"+this.closeBoxURL_+"'";b+=" align=right";b+=" style='";b+=" position: relative;";b+=" cursor: pointer;";b+=" margin: "+this.closeBoxMargin_+";";b+="'>"}return b};InfoBox.prototype.addClickHandler_=function(){var b;if(this.closeBoxURL_!==""){b=this.div_.firstChild;this.closeListener_=google.maps.event.addDomListener(b,"click",this.getCloseClickHandler_())}else{this.closeListener_=null}};InfoBox.prototype.getCloseClickHandler_=function(){var b=this;return function(a){a.cancelBubble=true;if(a.stopPropagation){a.stopPropagation()}b.close();google.maps.event.trigger(b,"closeclick")}};InfoBox.prototype.panBox_=function(s){var D;var E;var u=0,y=0;if(!s){D=this.getMap();if(D instanceof google.maps.Map){if(!D.getBounds().contains(this.position_)){D.setCenter(this.position_)}E=D.getBounds();var c=D.getDiv();var x=c.offsetWidth;var v=c.offsetHeight;var B=this.pixelOffset_.width;var C=this.pixelOffset_.height;var w=this.div_.offsetWidth;var r=this.div_.offsetHeight;var z=this.infoBoxClearance_.width;var A=this.infoBoxClearance_.height;var F=this.getProjection().fromLatLngToContainerPixel(this.position_);if(F.x<(-B+z)){u=F.x+B-z}else{if((F.x+w+B+z)>x){u=F.x+w+B+z-x}}if(this.alignBottom_){if(F.y<(-C+A+r)){y=F.y+C-A-r}else{if((F.y+C+A)>v){y=F.y+C+A-v}}}else{if(F.y<(-C+A)){y=F.y+C-A}else{if((F.y+r+C+A)>v){y=F.y+r+C+A-v}}}if(!(u===0&&y===0)){var t=D.getCenter();D.panBy(u,y)}}}};InfoBox.prototype.setBoxStyle_=function(){var d,c;if(this.div_){this.div_.className=this.boxClass_;this.div_.style.cssText="";c=this.boxStyle_;for(d in c){if(c.hasOwnProperty(d)){this.div_.style[d]=c[d]}}if(typeof this.div_.style.opacity!=="undefined"&&this.div_.style.opacity!==""){this.div_.style.filter="alpha(opacity="+(this.div_.style.opacity*100)+")"}this.div_.style.position="absolute";this.div_.style.visibility="hidden";if(this.zIndex_!==null){this.div_.style.zIndex=this.zIndex_}}};InfoBox.prototype.getBoxWidths_=function(){var e;var f={top:0,bottom:0,left:0,right:0};var d=this.div_;if(document.defaultView&&document.defaultView.getComputedStyle){e=d.ownerDocument.defaultView.getComputedStyle(d,"");if(e){f.top=parseInt(e.borderTopWidth,10)||0;f.bottom=parseInt(e.borderBottomWidth,10)||0;f.left=parseInt(e.borderLeftWidth,10)||0;f.right=parseInt(e.borderRightWidth,10)||0}}else{if(document.documentElement.currentStyle){if(d.currentStyle){f.top=parseInt(d.currentStyle.borderTopWidth,10)||0;f.bottom=parseInt(d.currentStyle.borderBottomWidth,10)||0;f.left=parseInt(d.currentStyle.borderLeftWidth,10)||0;f.right=parseInt(d.currentStyle.borderRightWidth,10)||0}}}return f};InfoBox.prototype.onRemove=function(){if(this.div_){this.div_.parentNode.removeChild(this.div_);this.div_=null}};InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var b=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=(b.x+this.pixelOffset_.width)+"px";if(this.alignBottom_){this.div_.style.bottom=-(b.y+this.pixelOffset_.height)+"px"}else{this.div_.style.top=(b.y+this.pixelOffset_.height)+"px"}if(this.isHidden_){this.div_.style.visibility="hidden"}else{this.div_.style.visibility="visible"}};InfoBox.prototype.setOptions=function(b){if(typeof b.boxClass!=="undefined"){this.boxClass_=b.boxClass;this.setBoxStyle_()}if(typeof b.boxStyle!=="undefined"){this.boxStyle_=b.boxStyle;this.setBoxStyle_()}if(typeof b.content!=="undefined"){this.setContent(b.content)}if(typeof b.disableAutoPan!=="undefined"){this.disableAutoPan_=b.disableAutoPan}if(typeof b.maxWidth!=="undefined"){this.maxWidth_=b.maxWidth}if(typeof b.pixelOffset!=="undefined"){this.pixelOffset_=b.pixelOffset}if(typeof b.alignBottom!=="undefined"){this.alignBottom_=b.alignBottom}if(typeof b.position!=="undefined"){this.setPosition(b.position)}if(typeof b.zIndex!=="undefined"){this.setZIndex(b.zIndex)}if(typeof b.closeBoxMargin!=="undefined"){this.closeBoxMargin_=b.closeBoxMargin}if(typeof b.closeBoxURL!=="undefined"){this.closeBoxURL_=b.closeBoxURL}if(typeof b.infoBoxClearance!=="undefined"){this.infoBoxClearance_=b.infoBoxClearance}if(typeof b.isHidden!=="undefined"){this.isHidden_=b.isHidden}if(typeof b.enableEventPropagation!=="undefined"){this.enableEventPropagation_=b.enableEventPropagation}if(this.div_){this.draw()}};InfoBox.prototype.setContent=function(b){this.content_=b;if(this.div_){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(!this.fixedWidthSet_){this.div_.style.width=""}if(typeof b.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+b}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(b)}if(!this.fixedWidthSet_){this.div_.style.width=this.div_.offsetWidth+"px";if(typeof b.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+b}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(b)}}this.addClickHandler_()}google.maps.event.trigger(this,"content_changed")};InfoBox.prototype.setPosition=function(b){this.position_=b;if(this.div_){this.draw()}google.maps.event.trigger(this,"position_changed")};InfoBox.prototype.setZIndex=function(b){this.zIndex_=b;if(this.div_){this.div_.style.zIndex=b}google.maps.event.trigger(this,"zindex_changed")};InfoBox.prototype.getContent=function(){return this.content_};InfoBox.prototype.getPosition=function(){return this.position_};InfoBox.prototype.getZIndex=function(){return this.zIndex_};InfoBox.prototype.show=function(){this.isHidden_=false;if(this.div_){this.div_.style.visibility="visible"}};InfoBox.prototype.hide=function(){this.isHidden_=true;if(this.div_){this.div_.style.visibility="hidden"}};InfoBox.prototype.open=function(f,e){var d=this;if(e){this.position_=e.getPosition();this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){d.setPosition(this.getPosition())})}this.setMap(f);if(this.div_){this.panBox_()}};InfoBox.prototype.close=function(){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(this.eventListener1_){google.maps.event.removeListener(this.eventListener1_);google.maps.event.removeListener(this.eventListener2_);google.maps.event.removeListener(this.eventListener3_);google.maps.event.removeListener(this.eventListener4_);this.eventListener1_=null;this.eventListener2_=null;this.eventListener3_=null;this.eventListener4_=null}if(this.moveListener_){google.maps.event.removeListener(this.moveListener_);this.moveListener_=null}if(this.contextListener_){google.maps.event.removeListener(this.contextListener_);this.contextListener_=null}this.setMap(null)};var markers=new Array();var main_hotel_info_box="";var current_hotel_map="";function create_hotel_destination_map(e){markers=new Array();main_hotel_info_box="";current_hotel_map="";var d=e.lat;var c=e.lng;var b=e.des_id;var a=create_hotel_map("hotel_des_map",d,c);get_hotels_in_city("",b,a,1,1)}function create_hotel_mobile_map(i){markers=new Array();main_hotel_info_box="";current_hotel_map="";var j=i.data_hotel_id;var f=i.data_des_id;var e=i.data_lat;var g=i.data_lng;var a=i.data_place_name;var c=i.data_star;init_filter_status();var h=create_hotel_map("hotel_des_map",e,g);var b=new google.maps.LatLng(e,g);h.setCenter(b);var d=render_main_hotel_marker(e,g,h);d.setZIndex(999999);get_hotel_main(j,h,d,true);get_hotels_in_city(j,f,h,"","",true);get_destinations_in_city(f,h,true)}function view_hotel_destination_map(f){markers=new Array();main_hotel_info_box="";current_hotel_map="";init_filter_status();var b=$(f).attr("data-des-id");var e=$(f).attr("data-lat");var d=$(f).attr("data-lng");var c=$(f).attr("data-place-name");var a=create_hotel_map("hotel_map",e,d);$("#mapModalLabel").html("Khách sạn ở "+c);$("#mapModal").on("shown.bs.modal",function(){google.maps.event.trigger(a,"resize");var g=new google.maps.LatLng(e,d);a.setCenter(g)});$("#mapModal").modal("show");get_hotels_in_city("",b,a,1,1);get_destinations_in_city(b,a)}function create_vietnam_top_des_map(g){markers=new Array();main_hotel_info_box="";current_hotel_map="";var c=g.des_id;var f=g.lat;var d=g.lng;var e=g.des_name;var b=g.zoom;var a=create_hotel_map("vietnam_map",f,d,b);get_hotel_top_destination(a)}function get_hotel_top_destination(a){$.ajax({url:"/hotel_on_map/get_hotel_top_destination/",type:"POST",cache:true,dataType:"json",data:{},success:function(c){if(c!=""){for(var b=0;b<c.length;b++){render_destination_map_data(c[b],a,1)}}},error:function(d,c,b){}})}function view_hotel_map(c){var j=$(c).attr("data-hotel-id");var g=$(c).attr("data-des-id");var f=$(c).attr("data-lat");var h=$(c).attr("data-lng");var a=$(c).attr("data-place-name");var d=$(c).attr("data-star");var b=$(c).attr("is-mobile");markers=new Array();main_hotel_info_box="";current_hotel_map="";init_filter_status();var i=create_hotel_map("hotel_map",f,h);$("#mapModalLabel").html(a+'  <span class="icon star-'+d+'"></span>');$("#mapModal").on("shown.bs.modal",function(){google.maps.event.trigger(i,"resize");var k=new google.maps.LatLng(f,h);i.setCenter(k)});$("#mapModal").modal("show");var e=render_main_hotel_marker(f,h,i);e.setZIndex(999999);get_hotel_main(j,i,e);get_hotels_in_city(j,g,i);get_destinations_in_city(g,i)}function create_hotel_map(h,g,f,d){var a=15;if(d!=undefined&&d!=""){a=d}var b=new google.maps.LatLng(g,f);var e={center:b,zoom:a,mapTypeId:google.maps.MapTypeId.ROADMAP};var c=new google.maps.Map(document.getElementById(h),e);return c}function get_hotel_main(d,b,c,a){$.ajax({url:"/hotel_on_map/get_hotel_main/",type:"POST",cache:true,dataType:"json",data:{id:d},success:function(e){if(a!=undefined&&a==true){render_hotel_map_mobile(e,b,c)}else{render_hotel_map_data(e,b,c)}},error:function(g,f,e){}})}function get_hotels_in_city(g,d,c,e,f,b){var a=1;if(f!=undefined&&f==1){a=0}$.ajax({url:"/hotel_on_map/get_hotels_in_city/",type:"POST",cache:true,dataType:"json",data:{hotel_id:g,des_id:d,hotel_in_city:a},success:function(k){if(k!=""){var j=new google.maps.LatLngBounds();for(var h=0;h<k.length;h++){if(b!=undefined&&b==true){render_hotel_map_mobile(k[h],c)}else{render_hotel_map_data(k[h],c)}var l=new google.maps.LatLng(k[h].latitude,k[h].longitude);j.extend(l)}if(e!=undefined&&e==1){c.fitBounds(j)}}},error:function(j,i,h){}})}function get_destinations_in_city(c,b,a){$.ajax({url:"/hotel_on_map/get_destinations_in_city/",type:"POST",cache:true,dataType:"json",data:{des_id:c},success:function(e){if(e!=""){for(var d=0;d<e.length;d++){if(a!=undefined&&a==true){render_destination_map_data_mobile(e[d],b)}else{render_destination_map_data(e[d],b)}}show_hotel_area_selections(e,b)}},error:function(f,e,d){}})}function render_main_hotel_marker(e,d,c){var f=new google.maps.MarkerImage("/media/icon/icon-hotel.png");var b={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(e,d),icon:f,map:c};var a=new google.maps.Marker(b);return a}function render_hotel_map_data(e,d,c){var b=false;if(c==""||c==undefined){var h=new google.maps.MarkerImage("/media/icon/hotel-marker.png");var a={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(parseFloat(e.latitude),parseFloat(e.longitude)),icon:h,map:d};var c=new google.maps.Marker(a)}else{b=true}var g=build_hotel_info_box(e);if(b){g.open(d,c);main_hotel_info_box=g}google.maps.event.addListener(c,"mouseover",function(i){if(main_hotel_info_box!=""){main_hotel_info_box.close()}g.open(d,c)});google.maps.event.addListener(c,"mouseout",function(i){g.close()});google.maps.event.addListener(c,"click",function(i){window.open(e.full_url)});var f={marker:c,map_type:1,obj_data:e,info_box:g};markers.push(f);return f}function render_hotel_map_mobile(a,h,e){var d=true;var g=false;if(e==""||e==undefined){var f=new google.maps.MarkerImage("/media/icon/hotel-marker.png");var c={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(parseFloat(a.latitude),parseFloat(a.longitude)),icon:f,map:h};var e=new google.maps.Marker(c)}else{g=true}var b=build_hotel_info_box(a,d);if(g){b.open(h,e);main_hotel_info_box=b}google.maps.event.addListener(e,"click",function(j){if(main_hotel_info_box!=""){main_hotel_info_box.close()}$(".infoBox").hide();b.open(h,e)});var i={marker:e,map_type:1,obj_data:a,info_box:b};markers.push(i);return i}function render_destination_map_data(h,g,b){var d=false;if(b!=undefined&&b==1){d=true}var e=new google.maps.MarkerImage("/media/icon/des_icon.png");var a={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(parseFloat(h.latitude),parseFloat(h.longitude)),icon:e,map:g,visible:d};var c=new google.maps.Marker(a);var f=build_des_info_box(h);google.maps.event.addListener(c,"mouseover",function(j){f.open(g,c)});google.maps.event.addListener(c,"mouseout",function(j){f.close()});if(h.number_of_hotels>0){google.maps.event.addListener(c,"click",function(j){window.open(h.full_url)})}var i={marker:c,map_type:2,obj_data:h,info_box:f};markers.push(i);return i}function render_destination_map_data_mobile(i,h,c){var b=true;var e=false;if(c!=undefined&&c==1){e=true}var f=new google.maps.MarkerImage("/media/icon/des_icon.png");var a={animation:google.maps.Animation.DROP,position:new google.maps.LatLng(parseFloat(i.latitude),parseFloat(i.longitude)),icon:f,map:h,visible:e};var d=new google.maps.Marker(a);var g=build_des_info_box(i,b);google.maps.event.addListener(d,"click",function(k){$(".infoBox").hide();g.open(h,d)});var j={marker:d,map_type:2,obj_data:i,info_box:g};markers.push(j);return j}function create_hotel_popup_html(c,b){var d='<div class="info-box"><div class="title bpv-color-title" style="font-size:14px"><b>'+c.name+'</b> <span class="icon star-'+c.star+'"></span></div><table class="details"><tr><td><img width="90" height="68" src="'+c.img_url+'"></td><td style="font-size:12px;">'+c.address+"";if(c.price_origin!=undefined&&c.price_from!=undefined&&c.price_origin>0&&c.price_from>0){var e="";if(b!=undefined&&b==true){e='<div><div class="margin-left-10"> <div class="bpv-price-origin">'+bpv_format_currency(c.price_origin," đ")+'</div><div class="bpv-price-from">'+bpv_format_currency(c.price_from," đ")+'</div></div></td></tr></table><div class="text-center margin-top-5"><a href="'+c.full_url+'"><button type="button" class="btn btn-default" style="white-space:normal;width:70%">Xem chi tiết</button></a></div></div>'}else{e='<div><div class="margin-left-10"> <div class="bpv-price-origin">'+bpv_format_currency(c.price_origin," đ")+'</div><div class="bpv-price-from">'+bpv_format_currency(c.price_from," đ")+"</div></div></td></tr></table></div>"}d=d+e}else{var a="";if(b!=undefined&&b==true){a='</td></tr></table><div class="text-center margin-top-10"><a href="'+c.full_url+'"><button type="button" class="btn btn-default" style="white-space:normal;width:70%">Xem chi tiết</button></a></div></div>'}else{a="</td></tr></table></div>"}d=d+a}return d}function build_hotel_info_box(b,f){var c="";var a="";var h=-180;var e=-100;if(f!=undefined&&f==true){c="-5px -5px 0 0";a="/media/icon/hotel_detail/close.gif";h=-140;e=0}var g=create_hotel_popup_html(b,f);var i={disableAutoPan:false,maxWidth:0,pixelOffset:new google.maps.Size(h,e),zIndex:null,boxStyle:{opacity:1,width:"auto"},infoBoxClearance:new google.maps.Size(1,1),isHidden:false,pane:"floatPane",enableEventPropagation:true,closeBoxMargin:c,closeBoxURL:a};var d=new InfoBox(i);d.setContent(g);return d}function create_des_popup_html(b,a){var c='<div class="info-box text-center" ><label class="bpv-color-title">'+b.name+"</label>";if(b.number_of_hotels>0){if(a!=undefined&&a==true){c+=' <label class="note">('+b.number_of_hotels+') khách sạn </label><br/><a href="'+b.full_url+'"><button type="button" class="btn btn-default" style="white-space:normal;width:85%">Xem các khách sạn tại '+b.name+"</button></a>"}else{c+=' <label class="note">('+b.number_of_hotels+') khách sạn </label><br/><div class="note">Click để xem các khách sạn tại '+b.name+"</div>"}}c+="</div>";return c}function build_des_info_box(h,e){var b="";var a="";var g=-100;var d=-100;if(e!=undefined&&e==true){b="-5px -5px 0 0";a="/media/icon/hotel_detail/close.gif";g=-140;d=0}var f=create_des_popup_html(h,e);var i={disableAutoPan:false,maxWidth:0,pixelOffset:new google.maps.Size(g,d),zIndex:null,boxStyle:{opacity:1,width:"auto"},closeBoxMargin:b,closeBoxURL:a,infoBoxClearance:new google.maps.Size(1,1),isHidden:false,pane:"floatPane",enableEventPropagation:true};var c=new InfoBox(i);c.setContent(f);return c}function init_filter_status(){$("#hm_show_hotel").prop("checked",true);$("#hm_show_des").prop("checked",false);$(".hm-filter-stars").each(function(){$(this).prop("checked",true)})}function filter_map_data(){var h=$("#hm_show_hotel").is(":checked");var a=$("#hm_show_des").is(":checked");var c=new Array();$(".hm-filter-stars").each(function(){var i=$(this).val();if($(this).is(":checked")){c.push(i)}});for(var g=0;g<markers.length;g++){var d=markers[g];if(d.map_type==1){var b=d.obj_data.star;var k=false;for(var f=0;f<c.length;f++){if(b==c[f]){k=true;break}}var e=k&&h;d.marker.setVisible(e);if(!e){d.info_box.close()}}else{d.marker.setVisible(a);if(!a){d.info_box.close()}}}}function show_hotel_area_selections(a,c){if(a.length>0){current_hotel_map=c;var g=new Array();var b=new Array();var h=new Array();var f=new Array();for(var d=0;d<a.length;d++){if(a[d].type==5){g.push(a[d])}else{if(a[d].type==6){b.push(a[d])}else{if(a[d].type==7){h.push(a[d])}else{f.push(a[d])}}}}var e='<select class="form-control input-sm" id="hm_select_area" onchange="select_hm_area()">';e=e+'<option value="">----Chọn khu vực---</option>';if(h.length>0){e=e+'<optgroup label="Điểm đến hấp dẫn">';for(var d=0;d<h.length;d++){e=e+'<option lat="'+h[d].latitude+'" lng="'+h[d].longitude+'" value="'+h[d].id+'">'+h[d].name+"</option>"}e=e+"</optgroup>"}if(b.length>0){e=e+'<optgroup label="Khu vực">';for(var d=0;d<b.length;d++){e=e+'<option lat="'+b[d].latitude+'" lng="'+b[d].longitude+'" value="'+b[d].id+'">'+b[d].name+"</option>"}e=e+"</optgroup>"}if(g.length>0){e=e+'<optgroup label="Quận/Huyện">';for(var d=0;d<g.length;d++){e=e+'<option lat="'+g[d].latitude+'" lng="'+g[d].longitude+'" value="'+g[d].id+'">'+g[d].name+"</option>"}e=e+"</optgroup>"}if(f.length>0){e=e+'<optgroup label="Địa danh khác">';for(var d=0;d<f.length;d++){e=e+'<option lat="'+f[d].latitude+'" lng="'+f[d].longitude+'" value="'+f[d].id+'">'+f[d].name+"</option>"}e=e+"</optgroup>"}e=e+"</select>";$("#hm_area").html(e);$(".hm-area-info").css("visibility","visible")}}function select_hm_area(c){var f=$("#hm_select_area option:selected").attr("lat");var d=$("#hm_select_area option:selected").attr("lng");var b=$("#hm_select_area option:selected").attr("value");if(b!=""){var a=new google.maps.LatLng(f,d);current_hotel_map.setCenter(a);for(var e=0;e<markers.length;e++){if(markers[e].map_type==2){if(markers[e].obj_data.id==b){markers[e].marker.setVisible(true);markers[e].info_box.open(current_hotel_map,markers[e].marker)}else{markers[e].marker.setVisible(false);markers[e].info_box.close()}}}}};